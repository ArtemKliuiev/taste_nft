import{U as I,_ as g}from"./UsersSlider-9pFOdrx5.js";import{C as R,g as S,r as n,y as q,w as y,c as d,h as l,a as f,F as x,d as T,q as k,b as B,k as C,o as i,e as V,n as $,i as E}from"./index-S16aFblb.js";import{n as F,a as P}from"./NftCard-BuDLsrOs.js";const D={class:"search"},M={class:"container"},O={class:"search__main"},U={class:"search__dropdowns"},K={class:"search__cards"},L={key:0,class:"search__cards-empty"},Q={class:"search__btn"},j={class:"search__users"},W={__name:"SearchPage",setup(z){const r=R(),_=S(),c=n("Recently added"),m=n([]),u=n("All"),v=n("disabled"),a=n([]),o=n(4);let h=0;q(()=>{const e=_.currentRoute.value.query.query;e&&(r.search=e),p(r.search)}),y(r,()=>{r.search===""?setTimeout(()=>{p(r.search)},300):p(r.search),r.search===""&&_.back()});function w(e){_.replace({query:{query:e}})}y(c,()=>{c.value==="Recently added"?a.value.sort((e,s)=>e.sortInfo.recentlyAdded-s.sortInfo.recentlyAdded):c.value==="Popular"?a.value.sort((e,s)=>e.sortInfo.popular-s.sortInfo.popular):c.value==="The best"&&a.value.sort((e,s)=>e.sortInfo.best-s.sortInfo.best)}),y(u,()=>{let e=[];const s=m.value;u.value==="All"?e=s:u.value==="Auctions"?e=s.filter(t=>t.type==="auction"):u.value==="On sale"&&(e=s.filter(t=>t.type==="default")),a.value=e,o.value=4});function N(){o.value=o.value+4,b()}function b(){a.value.length<=o.value?v.value="disabled":v.value="active"}function p(e){w(e);const s=new RegExp(e===""?"(?=.*.)^$":e,"i");a.value=F.filter(t=>s.test(t.description.title)),m.value=a.value,b(),o.value=4}return(e,s)=>(i(),d("div",D,[l("div",M,[l("div",O,[l("div",U,[f(I,{list:["Recently added","Popular","The best"],onSubmit:s[0]||(s[0]=t=>c.value=t)}),f(I,{list:["All","Auctions","On sale"],onSubmit:s[1]||(s[1]=t=>u.value=t)})]),l("div",K,[(i(!0),d(x,null,T(a.value,(t,A)=>(i(),d("div",{key:A,class:"search__one-card"},[o.value>A?(i(),V(P,{nftInfo:t,key:$(h)?h.value++:h++},null,8,["nftInfo"])):k("",!0)]))),128)),a.value.length===0?(i(),d("span",L,"There are no NFTs")):k("",!0)]),l("div",Q,[f(C,{onClick:N,state:v.value},{default:B(()=>[E("Show all")]),_:1},8,["state"])]),l("div",j,[f(g)])])])]))}};export{W as default};

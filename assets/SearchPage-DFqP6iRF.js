import{_ as E,r as u,b as N,o as a,c as d,a as t,t as y,e as p,i as A,F as x,j as B,n as T,h as D,k as U,l as L,m as M,q as V,s as C,f as w,u as F,v as b,w as P,U as O,x as j,d as q}from"./index-DWR3hWBX.js";import{c as z,u as K,_ as G,n as H}from"./UIUser-CM6lpMAC.js";const J={class:"dropdown__btn"},Q={class:"dropdown__list"},W=["onClick"],X={__name:"UIDropDown",props:["list","id"],emits:["submit"],setup(n,{emit:l}){const f=l;let i=u(!1);const c=u(""),v=u(null);function o(_){c.value=_,f("submit",_)}N(()=>window.addEventListener("click",m));function h(){i.value=!i.value}function m(_){i.value&&!v.value.contains(_.target)&&(i.value=!1)}return(_,I)=>(a(),d("div",{ref_key:"currentDrop",ref:v,onClick:h,class:T([{dropdown_active:D(i)},"dropdown"])},[t("div",J,[t("span",null,y(c.value?c.value:n.list[0]),1),p(A,{id:"dropArrow"})]),t("ul",Q,[(a(!0),d(x,null,B(n.list,(k,g)=>(a(),d("li",{onClick:$=>o(k),key:g},y(k),9,W))),128))])],2))}},R=E(X,[["__scopeId","data-v-c39855de"]]),Y={class:"nft__image"},Z={class:"nft__main"},tt={class:"nft__title"},et={class:"nft__row nft__sold"},st=t("span",{class:"nft__sold-info"},"Sold for:",-1),nt={class:"nft__sold-price"},ot=t("span",null,"1,5M",-1),at={key:0,class:"nft__row nft__ending"},ct=t("span",{class:"nft__ending-info"},"Ending in:",-1),lt={class:"nft__ending-date"},it={key:1,class:"nft__buy-now"},rt=t("span",null,"Buy right now",-1),ut=[rt],dt={__name:"NftCard",props:["nftInfo"],setup(n){const{nftInfo:l}=n,f=u(null),i=u(l.price.time),c=U();function v(){c.push("/auction/"+l.id)}function o(){c.push("/user/"+l.user)}return l.type==="auction"&&N(()=>{z(l.price.time,i)}),(h,m)=>{const _=L("router-link");return a(),d(x,null,[p(_,{to:"/auction/"+n.nftInfo.id,ref_key:"routerLinkRef",ref:f},null,8,["to"]),t("div",{class:"nft",onClick:v},[t("div",Y,[t("div",{onClick:M(o,["stop"]),class:"nft__user"},[p(G,{user:D(K)[n.nftInfo.user],nftCard:!0},null,8,["user"])]),p(V,{class:"nft__img",srcset:n.nftInfo.photo.webp,src:n.nftInfo.photo.src,alt:"logo"},null,8,["srcset","src"])]),t("div",Z,[t("h3",tt,y(n.nftInfo.description.title),1),t("div",et,[st,t("div",nt,[n.nftInfo.type==="auction"?(a(),C(A,{key:0,id:"mini-logo"})):w("",!0),n.nftInfo.type==="default"?(a(),C(A,{key:1,id:"nft-logo"})):w("",!0),ot])]),n.nftInfo.type==="auction"?(a(),d("div",at,[ct,t("span",lt,y(i.value),1)])):(a(),d("div",it,ut))])])],64)}}},ft={class:"search"},_t={class:"container"},vt={class:"search__main"},ht={class:"search__dropdowns"},pt={class:"search__cards"},mt={key:0,class:"search__cards-empty"},kt={class:"search__btn"},yt=t("div",{class:"search__users"},null,-1),gt={__name:"SearchPage",setup(n){const l=F(),f=u("Recently added"),i=u([]),c=u("All"),v=u("disabled"),o=u([]),h=u(4);let m=0;N(()=>$(l.search)),b(l,()=>$(l.search)),b(f,()=>g()),b(c,()=>k());function _(){h.value=h.value+4,I()}function I(){o.value.length<=h.value?v.value="disabled":v.value="active"}function k(){let s=[];const e=i.value;c.value==="All"?s=e:c.value==="Auctions"?s=e.filter(r=>r.type==="auction"):c.value==="On sale"&&(s=e.filter(r=>r.type==="default")),o.value=s}function g(){f.value==="Recently added"?o.value.sort((s,e)=>s.sortInfo.recentlyAdded-e.sortInfo.recentlyAdded):f.value==="Popular"?o.value.sort((s,e)=>s.sortInfo.popular-e.sortInfo.popular):f.value==="The best"&&o.value.sort((s,e)=>s.sortInfo.best-e.sortInfo.best)}function $(s){const e=new RegExp(s===""?"(?=.*.)^$":s,"i");o.value=H.filter(r=>e.test(r.description.title)),i.value=o.value,I()}return(s,e)=>(a(),d("div",ft,[t("div",_t,[t("div",vt,[t("div",ht,[p(R,{list:["Recently added","Popular","The best"],onSubmit:e[0]||(e[0]=r=>f.value=r)}),p(R,{list:["All","Auctions","On sale"],onSubmit:e[1]||(e[1]=r=>c.value=r)})]),t("div",pt,[(a(!0),d(x,null,B(o.value,(r,S)=>(a(),d("div",{key:S,class:"search__one-card"},[h.value>S?(a(),C(dt,{nftInfo:r,key:j(m)?m.value++:m++},null,8,["nftInfo"])):w("",!0)]))),128)),o.value.length===0?(a(),d("span",mt,"There are no NFTs")):w("",!0)]),t("div",kt,[p(O,{onClick:_,state:v.value},{default:P(()=>[q("Show all")]),_:1},8,["state"])]),yt])])]))}};export{gt as default};

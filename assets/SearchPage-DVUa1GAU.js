import{U as A,_ as k,i as R}from"./UsersSlider-DpnA3o77.js";import{v as S,g as q,r as o,q as x,w as p,c as d,h as r,a as f,F as B,d as T,n as w,b as U,U as V,o as u,e as C,m as E,i as F}from"./index-CSXgGh3c.js";import{n as P}from"./timer-B2bn4lSv.js";const $={class:"search"},D={class:"container"},M={class:"search__main"},O={class:"search__dropdowns"},K={class:"search__cards"},L={key:0,class:"search__cards-empty"},Q={class:"search__btn"},j={class:"search__users"},W={__name:"SearchPage",setup(z){const n=S(),_=q(),l=o("Recently added"),y=o([]),c=o("All"),v=o("disabled"),a=o([]),i=o(4);let h=0;x(()=>{const e=_.currentRoute.value.query.query;e&&(n.search=e),I(n.search)}),p(n,()=>{I(n.search),n.search===""&&_.push("/")});function N(e){_.push({query:{query:e}})}p(l,()=>{l.value==="Recently added"?a.value.sort((e,t)=>e.sortInfo.recentlyAdded-t.sortInfo.recentlyAdded):l.value==="Popular"?a.value.sort((e,t)=>e.sortInfo.popular-t.sortInfo.popular):l.value==="The best"&&a.value.sort((e,t)=>e.sortInfo.best-t.sortInfo.best)}),p(c,()=>{let e=[];const t=y.value;c.value==="All"?e=t:c.value==="Auctions"?e=t.filter(s=>s.type==="auction"):c.value==="On sale"&&(e=t.filter(s=>s.type==="default")),a.value=e});function g(){i.value=i.value+4,m()}function m(){a.value.length<=i.value?v.value="disabled":v.value="active"}function I(e){N(e);const t=new RegExp(e===""?"(?=.*.)^$":e,"i");a.value=P.filter(s=>t.test(s.description.title)),y.value=a.value,m()}return(e,t)=>(u(),d("div",$,[r("div",D,[r("div",M,[r("div",O,[f(A,{list:["Recently added","Popular","The best"],onSubmit:t[0]||(t[0]=s=>l.value=s)}),f(A,{list:["All","Auctions","On sale"],onSubmit:t[1]||(t[1]=s=>c.value=s)})]),r("div",K,[(u(!0),d(B,null,T(a.value,(s,b)=>(u(),d("div",{key:b,class:"search__one-card"},[i.value>b?(u(),C(k,{nftInfo:s,key:E(h)?h.value++:h++},null,8,["nftInfo"])):w("",!0)]))),128)),a.value.length===0?(u(),d("span",L,"There are no NFTs")):w("",!0)]),r("div",Q,[f(V,{onClick:g,state:v.value},{default:U(()=>[F("Show all")]),_:1},8,["state"])]),r("div",j,[f(R)])])])]))}};export{W as default};
